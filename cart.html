<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>รถเข็นของฉัน - InSure</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

<header style="position: sticky; top: 0; z-index: 1000; width: 100%; padding: 18px 0; background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(25px); -webkit-backdrop-filter: blur(25px); border-bottom: 1px solid rgba(0, 0, 0, 0.06); font-family: 'Kanit', sans-serif;">
    <div style="max-width: 1400px; margin: 0 auto; padding: 0 5%; display: flex; justify-content: space-between; align-items: center; box-sizing: border-box;">
        
        <div class="logo-area">
            <a href="index.html" style="text-decoration: none; display: flex; align-items: center; gap: 18px;">
                <div style="width: 60px; height: 60px; background: #ffffff; border: 1px solid rgba(0, 123, 255, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(0,0,0,0.08); overflow: hidden; transition: 0.4s;" onmouseover="this.style.borderColor='#007bff'; this.style.transform='rotate(5deg) scale(1.05)'" onmouseout="this.style.borderColor='rgba(0, 123, 255, 0.2)'; this.style.transform='rotate(0deg) scale(1)'">
                    <img src="logo.png" alt="I-INSURE 8" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                </div>
                
                <div style="display: flex; flex-direction: column; line-height: 1.1;">
                    <span style="font-size: 1.7rem; font-weight: 800; color: #1a2a6c; letter-spacing: -0.8px;">
                        I-INSURE <span style="color: #007bff;">8</span>
                    </span>
                </div>
            </a>
        </div>

        <nav style="background: rgba(248, 250, 252, 0.8); padding: 12px 35px; border-radius: 100px; border: 1px solid rgba(0,0,0,0.04); display: flex; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.02);">
            <ul style="list-style: none; display: flex; gap: 35px; margin: 0; padding: 0;">
                <li><a href="index.html" style="text-decoration: none; color: #334155; font-weight: 500; font-size: 1.05rem; transition: 0.3s;" onmouseover="this.style.color='#007bff'" onmouseout="this.style.color='#334155'">หน้าแรก</a></li>
                <li><a href="about.html" style="text-decoration: none; color: #334155; font-weight: 500; font-size: 1.05rem; transition: 0.3s;" onmouseover="this.style.color='#007bff'" onmouseout="this.style.color='#334155'">เกี่ยวกับ</a></li>
                <li><a href="courses.html" style="text-decoration: none; color: #334155; font-weight: 500; font-size: 1.05rem; transition: 0.3s;" onmouseover="this.style.color='#007bff'" onmouseout="this.style.color='#334155'">คอร์สเรียน</a></li>
                <li><a href="reviews.html" style="text-decoration: none; color: #334155; font-weight: 500; font-size: 1.05rem; transition: 0.3s;" onmouseover="this.style.color='#007bff'" onmouseout="this.style.color='#334155'">รีวิว</a></li>
                <li><a href="contact.html" style="text-decoration: none; color: #334155; font-weight: 500; font-size: 1.05rem; transition: 0.3s;" onmouseover="this.style.color='#007bff'" onmouseout="this.style.color='#334155'">ติดต่อเรา</a></li>
            </ul>
        </nav>

        <div style="display: flex; align-items: center; gap: 25px;">
            <a href="cart.html" style="color: #1a2a6c; font-size: 1.3rem; text-decoration: none; transition: 0.3s; position: relative;" onmouseover="this.style.color='#007bff'; this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
                <i class="fa-solid fa-cart-shopping"></i>
            </a>
            <a href="login.html" style="text-decoration: none; color: white; font-weight: 600; font-size: 1rem; padding: 12px 30px; border-radius: 50px; background: #1a2a6c; transition: 0.3s; box-shadow: 0 6px 20px rgba(26, 42, 108, 0.2);" onmouseover="this.style.background='#007bff'; this.style.transform='translateY(-2px)'" onmouseout="this.style.background='#1a2a6c'; this.style.transform='translateY(0)'">เข้าสู่ระบบ</a>
        </div>
    </div>
</header>

<main class="container" style="padding-top: 40px; padding-bottom: 80px;">
    <h1 class="page-title" style="margin-bottom: 30px;">รถเข็นของฉัน</h1>
    
    <div class="cart-wrapper" style="display: grid; grid-template-columns: 2fr 1fr; gap: 30px; align-items: start;">
        
        <div id="cart-items-column">
            <div id="cart-items-container">
                </div>
            
            <div style="margin-top: 20px;">
                <a href="courses.html" style="text-decoration: none; color: #007bff; font-weight: 600;">
                    <i class="fas fa-arrow-left"></i> เลือกคอร์สเรียนเพิ่มเติม
                </a>
            </div>
        </div>

        <div class="card" style="position: sticky; top: 20px; padding: 25px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.05);">
            <h3 style="margin-bottom: 20px; color: #1a2a6c; border-bottom: 1px solid #eee; padding-bottom: 15px;">สรุปคำสั่งซื้อ</h3>
            
            <div style="display: flex; justify-content: space-between; margin-bottom: 15px; color: #64748b;">
                <span>จำนวนคอร์สทั้งหมด</span>
                <span id="total-count" style="font-weight: bold; color: #1a2a6c;">0</span>
            </div>
            
            <div style="display: flex; justify-content: space-between; margin-bottom: 25px; font-size: 1.2rem; font-weight: 800; color: #1a2a6c;">
                <span>ยอดชำระสุทธิ</span>
                <span id="total-price" style="color: #007bff;">฿0</span>
            </div>
            
            <button onclick="goToCheckout()" class="btn-buy-now" style="width: 100%; padding: 15px; font-size: 1.1rem; margin-bottom: 15px;">
                ไปที่หน้าชำระเงิน <i class="fas fa-chevron-right" style="margin-left: 8px;"></i>
            </button>
            
            <button onclick="clearCart()" style="background:none; border:none; color:#94a3b8; width:100%; cursor:pointer; font-size:0.9rem; transition: 0.3s;">
                <i class="fas fa-trash-alt"></i> ล้างรถเข็นทั้งหมด
            </button>
        </div>
    </div>
</main>

<script>
    function displayCart() {
        const cartContainer = document.getElementById('cart-items-container');
        const totalCountElement = document.getElementById('total-count');
        const totalPriceElement = document.getElementById('total-price');
        
        let cart = JSON.parse(localStorage.getItem('insureCart')) || [];
        
        if (cart.length === 0) {
            cartContainer.innerHTML = `
                <div class="card" style="text-align: center; padding: 60px 20px;">
                    <i class="fas fa-shopping-basket" style="font-size: 4rem; color: #e2e8f0; margin-bottom: 20px;"></i>
                    <h3 style="color: #64748b;">รถเข็นของคุณว่างเปล่า</h3>
                    <p style="color: #94a3b8; margin-bottom: 25px;">ไปเลือกคอร์สที่น่าสนใจแล้วมาเริ่มต้นเรียนกันเลย!</p>
                    <a href="courses.html" class="btn-buy-now" style="display: inline-block; text-decoration: none;">ไปหน้าคอร์สเรียน</a>
                </div>`;
            totalCountElement.innerText = '0';
            totalPriceElement.innerText = '฿0';
            return;
        }

        let html = '';
        let total = 0;

        cart.forEach((item, index) => {
            total += item.price;
            html += `
                <div class="card" style="display: flex; align-items: center; gap: 20px; padding: 20px; margin-bottom:15px; border-radius: 12px; transition: 0.3s;">
                    <div style="width: 80px; height: 60px; background: #f0f7ff; border-radius: 8px; display:flex; align-items:center; justify-content:center;">
                        <i class="fas fa-graduation-cap" style="color:#007bff; font-size: 1.5rem;"></i>
                    </div>
                    <div style="flex-grow: 1;">
                        <h4 style="margin: 0 0 5px 0; color: #1a2a6c;">${item.name}</h4>
                        <p style="color: #16a34a; font-size: 0.85rem; margin: 0; font-weight: 600;"><i class="fas fa-check-circle"></i> พร้อมให้เข้าเรียนทันทีหลังชำระเงิน</p>
                    </div>
                    <div style="font-weight: 800; color: #1a2a6c; font-size: 1.1rem;">฿${item.price.toLocaleString()}</div>
                    <button onclick="removeItem(${index})" style="background: #fff1f2; border: none; color: #e11d48; width: 35px; height: 35px; border-radius: 8px; cursor: pointer; transition: 0.2s;">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `;
        });

        cartContainer.innerHTML = html;
        totalCountElement.innerText = cart.length;
        totalPriceElement.innerText = '฿' + total.toLocaleString();
    }

    function removeItem(index) {
        let cart = JSON.parse(localStorage.getItem('insureCart')) || [];
        cart.splice(index, 1);
        localStorage.setItem('insureCart', JSON.stringify(cart));
        displayCart();
    }

    function clearCart() {
        if(confirm('คุณต้องการล้างรายการคอร์สทั้งหมดในรถเข็นใช่หรือไม่?')) {
            localStorage.removeItem('insureCart');
            displayCart();
        }
    }

    // ฟังก์ชันเชื่อมต่อไปยังหน้า Checkout
    function goToCheckout() {
        let cart = JSON.parse(localStorage.getItem('insureCart')) || [];
        if (cart.length === 0) {
            alert('ไม่มีสินค้าในรถเข็น กรุณาเลือกคอร์สเรียนก่อนครับ');
            return;
        }
        // เปลี่ยนหน้าไปยัง checkout.html
        window.location.href = 'checkout.html';
    }

    window.onload = displayCart;
</script>

<footer style="background: #1a2a6c; color: white; padding: 80px 10%; border-top: 4px solid #007bff; width: 100%; box-sizing: border-box; font-family: 'Kanit', sans-serif;">
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 60px; align-items: start;">
        
        <div>
            <div style="display: flex; align-items: center; margin-bottom: 25px;">
                <div style="width: 60px; height: 60px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 18px; overflow: hidden; border: 2px solid rgba(255,255,255,0.2);">
                    <img src="logo.png" alt="InSure Logo" style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <div style="display: flex; flex-direction: column; line-height: 1.1;">
                    <h3 style="font-size: 1.6rem; margin: 0; font-weight: 800; letter-spacing: -0.5px;">I-INSURE <span style="color: #007bff;">8</span></h3>
                </div>
            </div>
            <p style="color: #cbd5e1; line-height: 1.9; font-size: 1.05rem; margin-bottom: 30px; font-weight: 300;">
                เว็บไซต์สอนประกันวินาศภัย ยกระดับนายหน้าไทยสู่ความเป็นมืออาชีพด้วยประสบการณ์จริง
            </p>
            <p style="color: rgba(255,255,255,0.3); font-size: 0.9rem; font-weight: 200;">&copy; 2026 InSure Academy. All rights reserved.</p>
        </div>

        <div>
            <h4 style="font-size: 1.2rem; margin-bottom: 30px; color: #007bff; text-transform: uppercase; letter-spacing: 2px; font-weight: 700;">ข้อมูลติดต่อ</h4>
            <div style="display: flex; flex-direction: column; gap: 20px; color: #cbd5e1; font-size: 1.1rem; font-weight: 300;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <i class="fas fa-phone-alt" style="color: #007bff; font-size: 1.1rem;"></i> 064-425-8932
                </div>
                <div style="display: flex; align-items: center; gap: 15px;">
                    <i class="fas fa-envelope" style="color: #007bff; font-size: 1.1rem;"></i> wittayaobo@gmail.com
                </div>
            </div>
        </div>

        <div>
            <h4 style="font-size: 1.2rem; margin-bottom: 30px; color: #007bff; text-transform: uppercase; letter-spacing: 2px; font-weight: 700;">คุยกับเราทางโซเชียล</h4>
            <div style="display: flex; flex-direction: column; gap: 15px;">
                <a href="#" target="_blank" style="display: flex; align-items: center; background: #1877f2; color: white; padding: 12px 20px; border-radius: 12px; text-decoration: none; transition: 0.3s; width: 100%; max-width: 260px;" onmouseover="this.style.transform='translateY(-3px)'" onmouseout="this.style.transform='translateY(0)'">
                    <i class="fab fa-facebook" style="font-size: 1.5rem; margin-right: 15px;"></i>
                    <div style="text-align: left;">
                        <span style="display: block; font-size: 0.75rem; opacity: 0.8; font-weight: 300;">ติดตามข่าวสารที่</span>
                        <span style="font-weight: 500; font-size: 1rem;">Facebook Page</span>
                    </div>
                </a>

                <a href="#" target="_blank" style="display: flex; align-items: center; background: #06c755; color: white; padding: 12px 20px; border-radius: 12px; text-decoration: none; transition: 0.3s; width: 100%; max-width: 260px;" onmouseover="this.style.transform='translateY(-3px)'" onmouseout="this.style.transform='translateY(0)'">
                    <i class="fab fa-line" style="font-size: 1.5rem; margin-right: 15px;"></i>
                    <div style="text-align: left;">
                        <span style="display: block; font-size: 0.75rem; opacity: 0.8; font-weight: 300;">ปรึกษาคอร์สเรียนทาง</span>
                        <span style="font-weight: 500; font-size: 1rem;">Line Official</span>
                    </div>
                </a>
            </div>
        </div>

    </div>
</footer>

</body>
</html>